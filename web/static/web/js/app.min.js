/*!
 * Start Bootstrap - Grayscale v3.3.7+1 (http://startbootstrap.com/template-overviews/grayscale)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function collapseNavbar(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}$(window).scroll(collapseNavbar),$(document).ready(collapseNavbar),$(function(){$("a.page-scroll").bind("click",function(t){var e=$(this);$("html, body").stop().animate({scrollTop:$(e.attr("href")).offset().top},1500,"easeInOutExpo"),t.preventDefault()})}),$(".navbar-collapse ul li a").click(function(){$(this).closest(".collapse").collapse("toggle")}),$(document).ready(function(){function t(){$.get("/api/attributes/").done(function(t){for(var e=$("#contribute-attributes-left"),a=$("#contribute-attributes-right"),o=0;o<t.results.length;o++){var n=t.results[o],r='<div class="form-check"><label class="form-check-label"><input class="contribute-attribute form-check-input" type="checkbox" value="'+n.id+'"> '+n.name+"</label></div>";o<t.results.length/2?e.append(r):a.append(r)}}).fail(function(t){console.log(t)})}function e(){$.get("/api/stats/").done(function(t){$("#fake-news-links-count").text(t.count)}).fail(function(t){console.log(t)})}t(),e(),$.fn.dataTable.moment("YYYY-MM-DDTHH:mm:ss.SSSSZ");var a=$("#fake-news-table").DataTable({ajax:{url:"/api/links/",dataSrc:"results"},columns:[{data:"url",render:function(t){return'<a href="'+t+'">'+t+"</a>"}},{data:"created_date",render:function(t){return moment(t).fromNow()}},{data:"created_date"}],columnDefs:[{targets:[1],orderData:[2]},{targets:[2],visible:!1,searchable:!1}],order:[[1,"desc"]]});$("#refresh-table").click(function(){a.ajax.reload(),e()}),$("#contribute-form").submit(function(t){function o(t){var o=$("#contribute-url").val(),n=t.coords&&t.coords.latitude?Math.round(1e5*t.coords.latitude)/1e5:null,r=t.coords&&t.coords.longitude?Math.round(1e5*t.coords.longitude)/1e5:null,c=t.coords&&t.coords.accuracy?Math.round(1e5*t.coords.accuracy)/1e5:null,l=$("input.contribute-attribute:checkbox:checked").map(function(){return{id:this.value}}).get(),i={url:o,latitude:n,longitude:r,geo_accuracy:c,attributes:l};$.ajax({type:"POST",url:"/api/links/",data:JSON.stringify(i),contentType:"application/json",dataType:"json"}).done(function(){$("#contribute-url").val(""),a.ajax.reload(),e(),$("#contribute-spinner").hide(),$("#contribute-success").show()}).fail(function(t){console.log(t),$("#contribute-spinner").hide(),$("#contribute-fail").show()})}t.preventDefault(),$(".contribute-results").hide(),$("#contribute-spinner").show(),navigator.geolocation?navigator.geolocation.getCurrentPosition(o,o):o()})});
//# sourceMappingURL=maps/app.min.js.map
