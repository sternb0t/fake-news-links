/*!
 * Start Bootstrap - Grayscale v3.3.7+1 (http://startbootstrap.com/template-overviews/grayscale)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
function collapseNavbar(){$(".navbar").offset().top>50?$(".navbar-fixed-top").addClass("top-nav-collapse"):$(".navbar-fixed-top").removeClass("top-nav-collapse")}$(window).scroll(collapseNavbar),$(document).ready(collapseNavbar),$(function(){$("a.page-scroll").bind("click",function(o){var e=$(this);$("html, body").stop().animate({scrollTop:$(e.attr("href")).offset().top},1500,"easeInOutExpo"),o.preventDefault()})}),$(".navbar-collapse ul li a").click(function(){$(this).closest(".collapse").collapse("toggle")}),$(document).ready(function(){function o(){$.get("/api/stats/").done(function(o){$("#fake-news-links-count").text(o.count)}).fail(function(o){console.log(o)})}o(),$.fn.dataTable.moment("YYYY-MM-DDTHH:mm:ss.SSSSZ");var e=$("#fake-news-table").DataTable({ajax:{url:"/api/links/",dataSrc:""},columns:[{data:"url",render:function(o){return'<a href="'+o+'">'+o+"</a>"}},{data:"created_date",render:function(o){return moment(o).fromNow()}},{data:"created_date"}],columnDefs:[{targets:[1],orderData:[2]},{targets:[2],visible:!1,searchable:!1}],order:[[1,"desc"]]});$("#refresh-table").click(function(){e.ajax.reload(),o()}),$("#contribute-form").submit(function(a){function t(a){var t=$("#contribute-url").val(),n=a.coords&&a.coords.latitude?Math.round(1e5*a.coords.latitude)/1e5:null,r=a.coords&&a.coords.longitude?Math.round(1e5*a.coords.longitude)/1e5:null,c=a.coords&&a.coords.accuracy?Math.round(1e5*a.coords.accuracy)/1e5:null,l={url:t,latitude:n,longitude:r,geo_accuracy:c};$.post("/api/links/",l).done(function(){e.ajax.reload(),o(),$("#contribute-spinner").hide(),$("#contribute-success").show()}).fail(function(o){console.log(o),$("#contribute-spinner").hide(),$("#contribute-fail").show()})}a.preventDefault(),$(".contribute-results").hide(),$("#contribute-spinner").show(),navigator.geolocation?navigator.geolocation.getCurrentPosition(t,t):t()})});